<Window x:Class="PDFOrtnerSorter.Dialogs.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Einstellungen"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#0f172a"
        Foreground="White"
        FontFamily="Segoe UI"
        WindowStyle="ToolWindow"
        MinWidth="640">
    <Window.Resources>
        <Style x:Key="DialogInputTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#0f172a" />
            <Setter Property="BorderBrush" Value="#233044" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Padding" Value="10" />
        </Style>
    </Window.Resources>
    <Border Padding="28" Background="#131d31" CornerRadius="18">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <StackPanel>
                <TextBlock Text="Ordner &amp; Batch" FontSize="26" FontWeight="SemiBold" />
                <TextBlock Text="Passe hier Quelle, Ziel und Cache-Limit an. Änderungen gelten sofort nach dem Speichern." Margin="0,6,0,26" Foreground="#cbd5f5" TextWrapping="Wrap" FontSize="14" />

                <TextBlock Text="Quellordner" FontWeight="SemiBold" FontSize="16" />
                <DockPanel Margin="0,6,0,16">
                    <Button Content="Ordner wählen"
                            Command="{Binding BrowseSourceFolderCommand}"
                            Margin="0,0,12,0"
                            Padding="16,8"
                            FontSize="14"
                            DockPanel.Dock="Right" />
                    <TextBox Text="{Binding SourceFolder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource DialogInputTextBoxStyle}"
                             Padding="14"
                             FontSize="15"
                             IsReadOnly="True" />
                </DockPanel>

                <TextBlock Text="Zielbasisordner" FontWeight="SemiBold" FontSize="16" />
                <DockPanel Margin="0,6,0,16">
                    <Button Content="Ordner wählen"
                            Command="{Binding BrowseDestinationFolderCommand}"
                            Margin="0,0,12,0"
                            Padding="16,8"
                            FontSize="14"
                            DockPanel.Dock="Right" />
                    <TextBox Text="{Binding DestinationBaseFolder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource DialogInputTextBoxStyle}"
                             Padding="14"
                             FontSize="15"
                             IsReadOnly="True" />
                </DockPanel>

                <StackPanel Margin="0,6,0,16">
                    <TextBlock Text="Unterordnername" FontWeight="SemiBold" FontSize="16" />
                    <TextBox Text="{Binding DestinationFolderName, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource DialogInputTextBoxStyle}"
                             Padding="14"
                             FontSize="15"
                             Margin="0,6,0,0" />
                </StackPanel>

                <CheckBox Content="Unterordner durchsuchen"
                          FontSize="15"
                          Margin="0,0,0,12"
                          IsChecked="{Binding IncludeSubfolders}" />

                <StackPanel Margin="0,4,0,0">
                    <TextBlock Text="Cache-Limit (MB)" FontWeight="SemiBold" FontSize="16" />
                    <TextBox Width="160"
                             Text="{Binding PreviewCacheLimitMb, UpdateSourceTrigger=LostFocus}"
                             Style="{StaticResource DialogInputTextBoxStyle}"
                             Padding="14"
                             FontSize="15"
                             Margin="0,6,0,0" />
                </StackPanel>
            </StackPanel>

            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,26,0,0">
                <Button Content="Abbrechen"
                        Width="150"
                        Padding="14,8"
                        FontSize="14"
                        Margin="0,0,14,0"
                        Click="OnCancelClicked" />
                <Button Content="Speichern"
                        Width="170"
                        Padding="14,8"
                        FontSize="14"
                        IsDefault="True"
                        IsEnabled="{Binding CanSave}"
                        Click="OnSaveClicked" />
            </StackPanel>
        </Grid>
    </Border>
</Window>
